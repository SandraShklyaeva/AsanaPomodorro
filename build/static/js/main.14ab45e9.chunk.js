(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},125:function(e,t){},127:function(e,t){},177:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),o=n.n(s),c=(n(99),n(14)),l=n(7),i=n(16),u=n(15),h=n(6),d=n(17),p=(n(100),n(43)),m=n(202),f=n(203),j=n(204),b=n(85),k=n.n(b),v=n(86),E=n.n(v),O=n(87),y=n.n(O),g=(n(101),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(h.a)(n)),n.handleDelete=n.handleDelete.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){this.props.selectItem({id:this.props.itemId,name:this.props.name})}},{key:"handleDelete",value:function(){this.props.deleteItem(this.props.itemId)}},{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement("span",{className:"todo",title:"Click me to select",onClick:this.handleClick},this.props.name),r.a.createElement("button",{onClick:this.handleDelete},"Delete"))}}]),t}(r.a.Component)),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSelectItem=n.handleSelectItem.bind(Object(h.a)(n)),n.handleDeleteItem=n.handleDeleteItem.bind(Object(h.a)(n)),n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSelectItem",value:function(e){this.props.selectItem({project:this.props.project.id,todo:e})}},{key:"handleDeleteItem",value:function(e){this.props.deleteItem({project:this.props.project.id,todo:e})}},{key:"handleClick",value:function(){this.props.fetchTasks(this.props.project)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",{onClick:this.handleClick},this.props.project.name),r.a.createElement("ul",null,this.props.project.todos.map(function(e,t){return r.a.createElement(g,{key:t,itemId:e.gid,name:e.name,selectItem:this.handleSelectItem,deleteItem:this.handleDeleteItem})},this)))}}]),t}(r.a.Component),C=n(28),I="ADD_ARTICLE",w="AUTH_USER",D=n(84),T=n.n(D).a.Client.create().useAccessToken("0/bd9753eded967d6eb74493eca899b2e7");var R="FETCH_TASKS_BEGIN",P="FETCH_TASKS_SUCCESS",A="FETCH_TASKS_FAILURE",_="FETCH_PROJECTS_BEGIN",H="FETCH_PROJECTS_SUCCESS",B="FETCH_PROJECTS_FAILURE",F=function(){return{type:_}},N=function(e){return{type:H,payload:{projects:e}}},U=function(e){return{type:B,payload:{error:e}}},L=function(){return{type:R}},W=function(e){return{type:P,payload:{data:e}}},x=function(e){return{type:A,payload:{error:e}}},J=function(e){return{type:w,payload:{user:e}}};var M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSelectItem=n.handleSelectItem.bind(Object(h.a)(n)),n.handleDeleteItem=n.handleDeleteItem.bind(Object(h.a)(n)),n.handleHelloClick=n.handleHelloClick.bind(Object(h.a)(n)),n.handleFetchTasks=n.handleFetchTasks.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProjects()}},{key:"handleSelectItem",value:function(e){this.props.selectItem(e)}},{key:"handleDeleteItem",value:function(e){var t=this.state.projects.slice(0).map(function(t){return t.id===e.project&&(t.todos=t.todos.filter(function(t,n){return n!==e.todo})),t});this.setState({projects:t})}},{key:"handleHelloClick",value:function(){this.props.addArticle({title:"TITLE",id:"ID"})}},{key:"handleFetchTasks",value:function(e){console.log("I AM PROJECT",e),this.props.fetchTasks(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{onClick:this.handleHelloClick},"Hello"),this.props.articles.map(function(e){return r.a.createElement("div",{className:"list-group-item",key:e.id},e.title)})),this.props.loading?r.a.createElement("div",null,"I am Loading"):this.props.projects.map(function(e){return r.a.createElement(S,{key:e.id,project:e,selectItem:this.handleSelectItem,deleteItem:this.handleDeleteItem,fetchTasks:this.handleFetchTasks})},this))}}]),t}(r.a.Component),z=Object(C.b)(function(e){return{articles:e.root.articles,projects:e.projects.projects,loading:e.projects.loading,error:e.projects.error}},function(e){return{addArticle:function(t){return e({type:I,payload:t})},fetchProjects:function(){return e(function(e,t){e(F());var n=t().user.user;return console.log("KEK",n),T.projects.findAll({workspace:n.workspaces[2].gid}).then(function(t){return console.log(t),e(N(t.data)),t.data}).catch(function(t){e(U(t))})})},fetchTasks:function(t){return e(function(e){return console.log("I AM PROJECT1",e),function(t,n){return n().user.user,t(L()),T.tasks.findAll({project:e.id,completed_since:"now",opt_fields:"id,name"}).then(function(n){return console.log(n),t(W({project:e,tasks:n.data})),n.data}).catch(function(e){t(x(e))})}}(t))}}})(M),K=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Durations"),r.a.createElement("div",null,"Work Session ",this.props.settings.durations.workSession),r.a.createElement("div",null,"Short Break ",this.props.settings.durations.shortBreakSession),r.a.createElement("div",null,"Long Break ",this.props.settings.durations.longBreakSession),r.a.createElement("div",null,"Daily Goal ",this.props.settings.durations.goal)),r.a.createElement("div",null,r.a.createElement("h3",null,"Theme"),r.a.createElement("div",null,this.props.settings.theme)))}}]),t}(r.a.Component);var G=Object(C.b)(function(e){return{settings:e.settings}},function(e){return{}})(K),Y=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Stats")}}]),t}(r.a.Component),$=n(207),q=(Object(m.a)({root:{width:500}}),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).closeDrawer=function(t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&e.setState(Object(p.a)({},t,!1))}},e.state={value:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.closeDrawer=e.closeDrawer.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(p.a)({},t,!0))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,{value:this.state.value,onChange:this.handleChange},r.a.createElement(j.a,{label:"Stats",value:"stats",icon:r.a.createElement(k.a,null)}),r.a.createElement(j.a,{label:"Projects",value:"projects",icon:r.a.createElement(E.a,null)}),r.a.createElement(j.a,{label:"Settings",value:"settings",icon:r.a.createElement(y.a,null)})),r.a.createElement($.a,{anchor:"bottom",open:this.state.stats,onClose:this.closeDrawer("stats")},r.a.createElement(Y,null)),r.a.createElement($.a,{anchor:"bottom",open:this.state.projects,onClose:this.closeDrawer("projects")},r.a.createElement(z,{selectItem:this.handleSelectItem})),r.a.createElement($.a,{anchor:"bottom",open:this.state.settings,onClose:this.closeDrawer("settings")},r.a.createElement(G,null)))}}]),t}(r.a.Component)),Q=(n(177),n(206)),V=n(88),X=n.n(V),Z=n(89),ee=n.n(Z),te=n(181),ne=function(e){function t(e){var n;Object(c.a)(this,t);var a=(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).props,s=a.radius,o=a.stroke;return n.normalizedRadius=s-2*o,n.circumference=2*n.normalizedRadius*Math.PI,n.countdownRef=r.a.createRef(),n.countdownNumberRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.radius;this.countdownRef.current.style.width=2*e+"px",this.countdownRef.current.style.height=2*e+"px",this.countdownNumberRef.current.style.lineHeight=2*e+"px"}},{key:"render",value:function(){var e=this.props,t=e.radius,n=e.stroke,a=e.progress,s=this.circumference-a/this.props.time*this.circumference,o=this.props.time-this.props.progress,c=Math.floor(o/60),l=o-60*c;return l=1===l.toString().length?"0"+l:l,r.a.createElement("div",{className:"countdownWrapper"},this.props.paused?r.a.createElement(te.a,{onClick:this.props.handleStart},r.a.createElement(X.a,null)):r.a.createElement(te.a,{onClick:this.props.handlePause},r.a.createElement(ee.a,null)),r.a.createElement("div",{className:"countdown",ref:this.countdownRef},r.a.createElement("div",{className:"countdownPanel"},r.a.createElement(Q.a,{className:"countdown-number",ref:this.countdownNumberRef,variant:"h3"},c+":"+l)),r.a.createElement("svg",{className:"countdownCircle",height:2*t,width:2*t},r.a.createElement("circle",{stroke:"red",fill:"transparent",strokeWidth:n,strokeDasharray:this.circumference+" "+this.circumference,style:{strokeDashoffset:0},r:this.normalizedRadius,cx:t,cy:t}),r.a.createElement("circle",{stroke:"black",fill:"transparent",strokeWidth:n,strokeDasharray:this.circumference+" "+this.circumference,style:{strokeDashoffset:s},r:this.normalizedRadius,cx:t,cy:t}),this.props.paused?r.a.createElement("circle",{stroke:"red",fill:"grey","fill-opacity":"0.7",strokeWidth:n,strokeDasharray:this.circumference+" "+this.circumference,style:{strokeDashoffset:0},r:this.normalizedRadius,cx:t,cy:t}):"")))}}]),t}(r.a.Component),ae=n(205);var re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currentItem:null,isOpen:!1,progress:0,time:10,paused:!1,count:0},n.handleSelectItem=n.handleSelectItem.bind(Object(h.a)(n)),n.handlePause=n.handlePause.bind(Object(h.a)(n)),n.handleStart=n.handleStart.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.authUser(),this.handleStart()}},{key:"handleSelectItem",value:function(e){this.setState({currentItem:e})}},{key:"handleStart",value:function(){var e=this;this.setState({paused:!1}),this.state.timer=setInterval(function(){e.setState({progress:e.state.progress+1}),e.state.progress===e.state.time&&(e.handlePause(),e.setState({count:e.state.count+1,progress:0}))},1e3)}},{key:"handlePause",value:function(){clearInterval(this.state.timer),this.setState({paused:!0})}},{key:"render",value:function(){return r.a.createElement(ae.a,null,r.a.createElement(ne,{radius:120,stroke:4,time:this.state.time,progress:this.state.progress,handleStart:this.handleStart,handlePause:this.handlePause,paused:this.state.paused}),"Count: ",this.state.count,r.a.createElement(q,null))}}]),t}(r.a.Component),se=Object(C.b)(function(e){return{user:e.user.user}},function(e){return{authUser:function(){return e(function(e){return T.users.me().then(function(t){console.log(t),e(J(t))})})}}})(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=n(32),ce=n(90),le=n(35),ie={projects:[],loading:!1,error:null};var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(le.a)({},e,{loading:!0,error:null});case P:console.log("PAYLOAD",t.payload);var n=e.projects.map(function(e){return e.id===t.payload.data.project.id&&(e.todos=t.payload.data.tasks),e});return console.log("RESULT",n),Object(le.a)({},e,{loading:!1,projects:n});case H:var a=t.payload.projects.map(function(e){return e.todos=t.payload.projects,{id:e.id,todos:[],name:e.name}});return Object(le.a)({},e,{loading:!1,projects:a});case A:return Object(le.a)({},e,{loading:!1,error:t.payload.error,projects:[]});default:return e}},he={user:null,workspace:null};var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(le.a)({},e,{user:t.payload.user});default:return e}},pe={durations:{workSession:20,shortBreakSession:5,longBreakSession:15,goal:8,goalUntilLongBreak:4},theme:"default",timerType:"",sound:"",autoBreakSessions:!0,autoWorkSessions:!1};var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;return arguments.length>1&&arguments[1],e},fe={articles:[]};var je=Object(oe.c)({user:de,projects:ue,settings:me,root:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;return arguments.length>1&&arguments[1],e}}),be=Object(oe.d)(je,Object(oe.a)(ce.a));o.a.render(r.a.createElement(C.a,{store:be},r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},94:function(e,t,n){e.exports=n(178)},99:function(e,t,n){}},[[94,1,2]]]);
//# sourceMappingURL=main.14ab45e9.chunk.js.map